{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n/*eslint-disable react/prop-types */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _componentOrElement = require('react-prop-types/lib/componentOrElement');\n\nvar _componentOrElement2 = _interopRequireDefault(_componentOrElement);\n\nvar _elementType = require('react-prop-types/lib/elementType');\n\nvar _elementType2 = _interopRequireDefault(_elementType);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _ModalManager = require('./ModalManager');\n\nvar _ModalManager2 = _interopRequireDefault(_ModalManager);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nvar _addEventListener = require('./utils/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _addFocusListener = require('./utils/addFocusListener');\n\nvar _addFocusListener2 = _interopRequireDefault(_addFocusListener);\n\nvar _inDOM = require('dom-helpers/util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nvar _activeElement = require('dom-helpers/activeElement');\n\nvar _activeElement2 = _interopRequireDefault(_activeElement);\n\nvar _contains = require('dom-helpers/query/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar modalManager = new _ModalManager2.default();\n/**\n * Love them or hate them, `<Modal/>` provides a solid foundation for creating dialogs, lightboxes, or whatever else.\n * The Modal component renders its `children` node in front of a backdrop component.\n *\n * The Modal offers a few helpful features over using just a `<Portal/>` component and some styles:\n *\n * - Manages dialog stacking when one-at-a-time just isn't enough.\n * - Creates a backdrop, for disabling interaction below the modal.\n * - It properly manages focus; moving to the modal content, and keeping it there until the modal is closed.\n * - It disables scrolling of the page content while open.\n * - Adds the appropriate ARIA roles are automatically.\n * - Easily pluggable animations via a `<Transition/>` component.\n *\n * Note that, in the same way the backdrop element prevents users from clicking or interacting\n * with the page content underneath the Modal, Screen readers also need to be signaled to not to\n * interact with page content while the Modal is open. To do this, we use a common technique of applying\n * the `aria-hidden='true'` attribute to the non-Modal elements in the Modal `container`. This means that for\n * a Modal to be truly modal, it should have a `container` that is _outside_ your app's\n * React hierarchy (such as the default: document.body).\n */\n\nvar Modal = _react2.default.createClass({\n  displayName: 'Modal',\n  propTypes: _extends({}, _Portal2.default.propTypes, {\n    /**\n     * Set the visibility of the Modal\n     */\n    show: _react2.default.PropTypes.bool,\n\n    /**\n     * A Node, Component instance, or function that returns either. The Modal is appended to it's container element.\n     *\n     * For the sake of assistive technologies, the container should usually be the document body, so that the rest of the\n     * page content can be placed behind a virtual backdrop as well as a visual one.\n     */\n    container: _react2.default.PropTypes.oneOfType([_componentOrElement2.default, _react2.default.PropTypes.func]),\n\n    /**\n     * A callback fired when the Modal is opening.\n     */\n    onShow: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when either the backdrop is clicked, or the escape key is pressed.\n     *\n     * The `onHide` callback only signals intent from the Modal,\n     * you must actually set the `show` prop to `false` for the Modal to close.\n     */\n    onHide: _react2.default.PropTypes.func,\n\n    /**\n     * Include a backdrop component.\n     */\n    backdrop: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.bool, _react2.default.PropTypes.oneOf(['static'])]),\n\n    /**\n     * A function that returns a backdrop component. Useful for custom\n     * backdrop rendering.\n     *\n     * ```js\n     *  renderBackdrop={props => <MyBackdrop {...props} />}\n     * ```\n     */\n    renderBackdrop: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n     */\n    onEscapeKeyUp: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when the backdrop, if specified, is clicked.\n     */\n    onBackdropClick: _react2.default.PropTypes.func,\n\n    /**\n     * A style object for the backdrop component.\n     */\n    backdropStyle: _react2.default.PropTypes.object,\n\n    /**\n     * A css class or classes for the backdrop component.\n     */\n    backdropClassName: _react2.default.PropTypes.string,\n\n    /**\n     * A css class or set of classes applied to the modal container when the modal is open,\n     * and removed when it is closed.\n     */\n    containerClassName: _react2.default.PropTypes.string,\n\n    /**\n     * Close the modal when escape key is pressed\n     */\n    keyboard: _react2.default.PropTypes.bool,\n\n    /**\n     * A `<Transition/>` component to use for the dialog and backdrop components.\n     */\n    transition: _elementType2.default,\n\n    /**\n     * The `timeout` of the dialog transition if specified. This number is used to ensure that\n     * transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    dialogTransitionTimeout: _react2.default.PropTypes.number,\n\n    /**\n     * The `timeout` of the backdrop transition if specified. This number is used to\n     * ensure that transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    backdropTransitionTimeout: _react2.default.PropTypes.number,\n\n    /**\n     * When `true` The modal will automatically shift focus to itself when it opens, and\n     * replace it to the last focused element when it closes. This also\n     * works correctly with any Modal children that have the `autoFocus` prop.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    autoFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * When `true` The modal will prevent focus from leaving the Modal while open.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    enforceFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * When `true` The modal will restore focus to previously focused element once\n     * modal is hidden\n     */\n    restoreFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * Callback fired before the Modal transitions in\n     */\n    onEnter: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition in\n     */\n    onEntering: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning in\n     */\n    onEntered: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired right before the Modal transitions out\n     */\n    onExit: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition out\n     */\n    onExiting: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning out\n     */\n    onExited: _react2.default.PropTypes.func,\n\n    /**\n     * A ModalManager instance used to track and manage the state of open\n     * Modals. Useful when customizing how modals interact within a container\n     */\n    manager: _react2.default.PropTypes.object.isRequired\n  }),\n  getDefaultProps: function getDefaultProps() {\n    var noop = function noop() {};\n\n    return {\n      show: false,\n      backdrop: true,\n      keyboard: true,\n      autoFocus: true,\n      enforceFocus: true,\n      restoreFocus: true,\n      onHide: noop,\n      manager: modalManager,\n      renderBackdrop: function renderBackdrop(props) {\n        return _react2.default.createElement('div', props);\n      }\n    };\n  },\n  omitProps: function omitProps(props, propTypes) {\n    var keys = Object.keys(props);\n    var newProps = {};\n    keys.map(function (prop) {\n      if (!Object.prototype.hasOwnProperty.call(propTypes, prop)) {\n        newProps[prop] = props[prop];\n      }\n    });\n    return newProps;\n  },\n  getInitialState: function getInitialState() {\n    return {\n      exited: !this.props.show\n    };\n  },\n  render: function render() {\n    var _props = this.props,\n        show = _props.show,\n        container = _props.container,\n        children = _props.children,\n        Transition = _props.transition,\n        backdrop = _props.backdrop,\n        dialogTransitionTimeout = _props.dialogTransitionTimeout,\n        className = _props.className,\n        style = _props.style,\n        onExit = _props.onExit,\n        onExiting = _props.onExiting,\n        onEnter = _props.onEnter,\n        onEntering = _props.onEntering,\n        onEntered = _props.onEntered;\n\n    var dialog = _react2.default.Children.only(children);\n\n    var filteredProps = this.omitProps(this.props, Modal.propTypes);\n    var mountModal = show || Transition && !this.state.exited;\n\n    if (!mountModal) {\n      return null;\n    }\n\n    var _dialog$props = dialog.props,\n        role = _dialog$props.role,\n        tabIndex = _dialog$props.tabIndex;\n\n    if (role === undefined || tabIndex === undefined) {\n      dialog = (0, _react.cloneElement)(dialog, {\n        role: role === undefined ? 'document' : role,\n        tabIndex: tabIndex == null ? '-1' : tabIndex\n      });\n    }\n\n    if (Transition) {\n      dialog = _react2.default.createElement(Transition, {\n        transitionAppear: true,\n        unmountOnExit: true,\n        'in': show,\n        timeout: dialogTransitionTimeout,\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: this.handleHidden,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: onEntered\n      }, dialog);\n    }\n\n    return _react2.default.createElement(_Portal2.default, {\n      ref: this.setMountNode,\n      container: container\n    }, _react2.default.createElement('div', _extends({\n      ref: 'modal',\n      role: role || 'dialog'\n    }, filteredProps, {\n      style: style,\n      className: className\n    }), backdrop && this.renderBackdrop(), dialog));\n  },\n  renderBackdrop: function renderBackdrop() {\n    var _this = this;\n\n    var _props2 = this.props,\n        backdropStyle = _props2.backdropStyle,\n        backdropClassName = _props2.backdropClassName,\n        renderBackdrop = _props2.renderBackdrop,\n        Transition = _props2.transition,\n        backdropTransitionTimeout = _props2.backdropTransitionTimeout;\n\n    var backdropRef = function backdropRef(ref) {\n      return _this.backdrop = ref;\n    };\n\n    var backdrop = _react2.default.createElement('div', {\n      ref: backdropRef,\n      style: this.props.backdropStyle,\n      className: this.props.backdropClassName,\n      onClick: this.handleBackdropClick\n    });\n\n    if (Transition) {\n      backdrop = _react2.default.createElement(Transition, {\n        transitionAppear: true,\n        'in': this.props.show,\n        timeout: backdropTransitionTimeout\n      }, renderBackdrop({\n        ref: backdropRef,\n        style: backdropStyle,\n        className: backdropClassName,\n        onClick: this.handleBackdropClick\n      }));\n    }\n\n    return backdrop;\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.show) {\n      this.setState({\n        exited: false\n      });\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      this.setState({\n        exited: true\n      });\n    }\n  },\n  componentWillUpdate: function componentWillUpdate(nextProps) {\n    if (!this.props.show && nextProps.show) {\n      this.checkForFocus();\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.props.show) {\n      this.onShow();\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var transition = this.props.transition;\n\n    if (prevProps.show && !this.props.show && !transition) {\n      // Otherwise handleHidden will call this.\n      this.onHide();\n    } else if (!prevProps.show && this.props.show) {\n      this.onShow();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    var _props3 = this.props,\n        show = _props3.show,\n        transition = _props3.transition;\n\n    if (show || transition && !this.state.exited) {\n      this.onHide();\n    }\n  },\n  onShow: function onShow() {\n    var doc = (0, _ownerDocument2.default)(this);\n    var container = (0, _getContainer2.default)(this.props.container, doc.body);\n    this.props.manager.add(this, container, this.props.containerClassName);\n    this._onDocumentKeyupListener = (0, _addEventListener2.default)(doc, 'keyup', this.handleDocumentKeyUp);\n    this._onFocusinListener = (0, _addFocusListener2.default)(this.enforceFocus);\n    this.focus();\n\n    if (this.props.onShow) {\n      this.props.onShow();\n    }\n  },\n  onHide: function onHide() {\n    this.props.manager.remove(this);\n\n    this._onDocumentKeyupListener.remove();\n\n    this._onFocusinListener.remove();\n\n    if (this.props.restoreFocus) {\n      this.restoreLastFocus();\n    }\n  },\n  setMountNode: function setMountNode(ref) {\n    this.mountNode = ref ? ref.getMountNode() : ref;\n  },\n  handleHidden: function handleHidden() {\n    this.setState({\n      exited: true\n    });\n    this.onHide();\n\n    if (this.props.onExited) {\n      var _props4;\n\n      (_props4 = this.props).onExited.apply(_props4, arguments);\n    }\n  },\n  handleBackdropClick: function handleBackdropClick(e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    if (this.props.onBackdropClick) {\n      this.props.onBackdropClick(e);\n    }\n\n    if (this.props.backdrop === true) {\n      this.props.onHide();\n    }\n  },\n  handleDocumentKeyUp: function handleDocumentKeyUp(e) {\n    if (this.props.keyboard && e.keyCode === 27 && this.isTopModal()) {\n      if (this.props.onEscapeKeyUp) {\n        this.props.onEscapeKeyUp(e);\n      }\n\n      this.props.onHide();\n    }\n  },\n  checkForFocus: function checkForFocus() {\n    if (_inDOM2.default) {\n      this.lastFocus = (0, _activeElement2.default)();\n    }\n  },\n  focus: function focus() {\n    var autoFocus = this.props.autoFocus;\n    var modalContent = this.getDialogElement();\n    var current = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n    var focusInModal = current && (0, _contains2.default)(modalContent, current);\n\n    if (modalContent && autoFocus && !focusInModal) {\n      this.lastFocus = current;\n\n      if (!modalContent.hasAttribute('tabIndex')) {\n        modalContent.setAttribute('tabIndex', -1);\n        (0, _warning2.default)(false, 'The modal content node does not accept focus. ' + 'For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\".');\n      }\n\n      modalContent.focus();\n    }\n  },\n  restoreLastFocus: function restoreLastFocus() {\n    // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n    if (this.lastFocus && this.lastFocus.focus) {\n      this.lastFocus.focus();\n      this.lastFocus = null;\n    }\n  },\n  enforceFocus: function enforceFocus() {\n    var enforceFocus = this.props.enforceFocus;\n\n    if (!enforceFocus || !this.isMounted() || !this.isTopModal()) {\n      return;\n    }\n\n    var active = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n    var modal = this.getDialogElement();\n\n    if (modal && modal !== active && !(0, _contains2.default)(modal, active)) {\n      modal.focus();\n    }\n  },\n  //instead of a ref, which might conflict with one the parent applied.\n  getDialogElement: function getDialogElement() {\n    var node = this.refs.modal;\n    return node && node.lastChild;\n  },\n  isTopModal: function isTopModal() {\n    return this.props.manager.isTopModal(this);\n  }\n});\n\nModal.Manager = _ModalManager2.default;\nexports.default = Modal;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/renard/education2020-react/node_modules/react-overlays/lib/Modal.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_warning","_warning2","_componentOrElement","_componentOrElement2","_elementType","_elementType2","_Portal","_Portal2","_ModalManager","_ModalManager2","_ownerDocument","_ownerDocument2","_addEventListener","_addEventListener2","_addFocusListener","_addFocusListener2","_inDOM","_inDOM2","_activeElement","_activeElement2","_contains","_contains2","_getContainer","_getContainer2","obj","__esModule","default","modalManager","Modal","createClass","displayName","propTypes","show","PropTypes","bool","container","oneOfType","func","onShow","onHide","backdrop","oneOf","renderBackdrop","onEscapeKeyUp","onBackdropClick","backdropStyle","object","backdropClassName","string","containerClassName","keyboard","transition","dialogTransitionTimeout","number","backdropTransitionTimeout","autoFocus","enforceFocus","restoreFocus","onEnter","onEntering","onEntered","onExit","onExiting","onExited","manager","isRequired","getDefaultProps","noop","props","createElement","omitProps","keys","newProps","map","prop","getInitialState","exited","render","_props","children","Transition","className","style","dialog","Children","only","filteredProps","mountModal","state","_dialog$props","role","tabIndex","undefined","cloneElement","transitionAppear","unmountOnExit","timeout","handleHidden","ref","setMountNode","_this","_props2","backdropRef","onClick","handleBackdropClick","componentWillReceiveProps","nextProps","setState","componentWillUpdate","checkForFocus","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","_props3","doc","body","add","_onDocumentKeyupListener","handleDocumentKeyUp","_onFocusinListener","focus","remove","restoreLastFocus","mountNode","getMountNode","_props4","apply","e","currentTarget","keyCode","isTopModal","lastFocus","modalContent","getDialogElement","current","focusInModal","hasAttribute","setAttribute","isMounted","active","modal","node","refs","lastChild","Manager","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*eslint-disable react/prop-types */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _componentOrElement = require('react-prop-types/lib/componentOrElement');\n\nvar _componentOrElement2 = _interopRequireDefault(_componentOrElement);\n\nvar _elementType = require('react-prop-types/lib/elementType');\n\nvar _elementType2 = _interopRequireDefault(_elementType);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _ModalManager = require('./ModalManager');\n\nvar _ModalManager2 = _interopRequireDefault(_ModalManager);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nvar _addEventListener = require('./utils/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _addFocusListener = require('./utils/addFocusListener');\n\nvar _addFocusListener2 = _interopRequireDefault(_addFocusListener);\n\nvar _inDOM = require('dom-helpers/util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nvar _activeElement = require('dom-helpers/activeElement');\n\nvar _activeElement2 = _interopRequireDefault(_activeElement);\n\nvar _contains = require('dom-helpers/query/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar modalManager = new _ModalManager2.default();\n\n/**\n * Love them or hate them, `<Modal/>` provides a solid foundation for creating dialogs, lightboxes, or whatever else.\n * The Modal component renders its `children` node in front of a backdrop component.\n *\n * The Modal offers a few helpful features over using just a `<Portal/>` component and some styles:\n *\n * - Manages dialog stacking when one-at-a-time just isn't enough.\n * - Creates a backdrop, for disabling interaction below the modal.\n * - It properly manages focus; moving to the modal content, and keeping it there until the modal is closed.\n * - It disables scrolling of the page content while open.\n * - Adds the appropriate ARIA roles are automatically.\n * - Easily pluggable animations via a `<Transition/>` component.\n *\n * Note that, in the same way the backdrop element prevents users from clicking or interacting\n * with the page content underneath the Modal, Screen readers also need to be signaled to not to\n * interact with page content while the Modal is open. To do this, we use a common technique of applying\n * the `aria-hidden='true'` attribute to the non-Modal elements in the Modal `container`. This means that for\n * a Modal to be truly modal, it should have a `container` that is _outside_ your app's\n * React hierarchy (such as the default: document.body).\n */\nvar Modal = _react2.default.createClass({\n  displayName: 'Modal',\n\n\n  propTypes: _extends({}, _Portal2.default.propTypes, {\n\n    /**\n     * Set the visibility of the Modal\n     */\n    show: _react2.default.PropTypes.bool,\n\n    /**\n     * A Node, Component instance, or function that returns either. The Modal is appended to it's container element.\n     *\n     * For the sake of assistive technologies, the container should usually be the document body, so that the rest of the\n     * page content can be placed behind a virtual backdrop as well as a visual one.\n     */\n    container: _react2.default.PropTypes.oneOfType([_componentOrElement2.default, _react2.default.PropTypes.func]),\n\n    /**\n     * A callback fired when the Modal is opening.\n     */\n    onShow: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when either the backdrop is clicked, or the escape key is pressed.\n     *\n     * The `onHide` callback only signals intent from the Modal,\n     * you must actually set the `show` prop to `false` for the Modal to close.\n     */\n    onHide: _react2.default.PropTypes.func,\n\n    /**\n     * Include a backdrop component.\n     */\n    backdrop: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.bool, _react2.default.PropTypes.oneOf(['static'])]),\n\n    /**\n     * A function that returns a backdrop component. Useful for custom\n     * backdrop rendering.\n     *\n     * ```js\n     *  renderBackdrop={props => <MyBackdrop {...props} />}\n     * ```\n     */\n    renderBackdrop: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n     */\n    onEscapeKeyUp: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when the backdrop, if specified, is clicked.\n     */\n    onBackdropClick: _react2.default.PropTypes.func,\n\n    /**\n     * A style object for the backdrop component.\n     */\n    backdropStyle: _react2.default.PropTypes.object,\n\n    /**\n     * A css class or classes for the backdrop component.\n     */\n    backdropClassName: _react2.default.PropTypes.string,\n\n    /**\n     * A css class or set of classes applied to the modal container when the modal is open,\n     * and removed when it is closed.\n     */\n    containerClassName: _react2.default.PropTypes.string,\n\n    /**\n     * Close the modal when escape key is pressed\n     */\n    keyboard: _react2.default.PropTypes.bool,\n\n    /**\n     * A `<Transition/>` component to use for the dialog and backdrop components.\n     */\n    transition: _elementType2.default,\n\n    /**\n     * The `timeout` of the dialog transition if specified. This number is used to ensure that\n     * transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    dialogTransitionTimeout: _react2.default.PropTypes.number,\n\n    /**\n     * The `timeout` of the backdrop transition if specified. This number is used to\n     * ensure that transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    backdropTransitionTimeout: _react2.default.PropTypes.number,\n\n    /**\n     * When `true` The modal will automatically shift focus to itself when it opens, and\n     * replace it to the last focused element when it closes. This also\n     * works correctly with any Modal children that have the `autoFocus` prop.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    autoFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * When `true` The modal will prevent focus from leaving the Modal while open.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    enforceFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * When `true` The modal will restore focus to previously focused element once\n     * modal is hidden\n     */\n    restoreFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * Callback fired before the Modal transitions in\n     */\n    onEnter: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition in\n     */\n    onEntering: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning in\n     */\n    onEntered: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired right before the Modal transitions out\n     */\n    onExit: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition out\n     */\n    onExiting: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning out\n     */\n    onExited: _react2.default.PropTypes.func,\n\n    /**\n     * A ModalManager instance used to track and manage the state of open\n     * Modals. Useful when customizing how modals interact within a container\n     */\n    manager: _react2.default.PropTypes.object.isRequired\n  }),\n\n  getDefaultProps: function getDefaultProps() {\n    var noop = function noop() {};\n\n    return {\n      show: false,\n      backdrop: true,\n      keyboard: true,\n      autoFocus: true,\n      enforceFocus: true,\n      restoreFocus: true,\n      onHide: noop,\n      manager: modalManager,\n      renderBackdrop: function renderBackdrop(props) {\n        return _react2.default.createElement('div', props);\n      }\n    };\n  },\n  omitProps: function omitProps(props, propTypes) {\n\n    var keys = Object.keys(props);\n    var newProps = {};\n    keys.map(function (prop) {\n      if (!Object.prototype.hasOwnProperty.call(propTypes, prop)) {\n        newProps[prop] = props[prop];\n      }\n    });\n\n    return newProps;\n  },\n  getInitialState: function getInitialState() {\n    return { exited: !this.props.show };\n  },\n  render: function render() {\n    var _props = this.props,\n        show = _props.show,\n        container = _props.container,\n        children = _props.children,\n        Transition = _props.transition,\n        backdrop = _props.backdrop,\n        dialogTransitionTimeout = _props.dialogTransitionTimeout,\n        className = _props.className,\n        style = _props.style,\n        onExit = _props.onExit,\n        onExiting = _props.onExiting,\n        onEnter = _props.onEnter,\n        onEntering = _props.onEntering,\n        onEntered = _props.onEntered;\n\n\n    var dialog = _react2.default.Children.only(children);\n    var filteredProps = this.omitProps(this.props, Modal.propTypes);\n\n    var mountModal = show || Transition && !this.state.exited;\n    if (!mountModal) {\n      return null;\n    }\n\n    var _dialog$props = dialog.props,\n        role = _dialog$props.role,\n        tabIndex = _dialog$props.tabIndex;\n\n\n    if (role === undefined || tabIndex === undefined) {\n      dialog = (0, _react.cloneElement)(dialog, {\n        role: role === undefined ? 'document' : role,\n        tabIndex: tabIndex == null ? '-1' : tabIndex\n      });\n    }\n\n    if (Transition) {\n      dialog = _react2.default.createElement(\n        Transition,\n        {\n          transitionAppear: true,\n          unmountOnExit: true,\n          'in': show,\n          timeout: dialogTransitionTimeout,\n          onExit: onExit,\n          onExiting: onExiting,\n          onExited: this.handleHidden,\n          onEnter: onEnter,\n          onEntering: onEntering,\n          onEntered: onEntered\n        },\n        dialog\n      );\n    }\n\n    return _react2.default.createElement(\n      _Portal2.default,\n      {\n        ref: this.setMountNode,\n        container: container\n      },\n      _react2.default.createElement(\n        'div',\n        _extends({\n          ref: 'modal',\n          role: role || 'dialog'\n        }, filteredProps, {\n          style: style,\n          className: className\n        }),\n        backdrop && this.renderBackdrop(),\n        dialog\n      )\n    );\n  },\n  renderBackdrop: function renderBackdrop() {\n    var _this = this;\n\n    var _props2 = this.props,\n        backdropStyle = _props2.backdropStyle,\n        backdropClassName = _props2.backdropClassName,\n        renderBackdrop = _props2.renderBackdrop,\n        Transition = _props2.transition,\n        backdropTransitionTimeout = _props2.backdropTransitionTimeout;\n\n\n    var backdropRef = function backdropRef(ref) {\n      return _this.backdrop = ref;\n    };\n\n    var backdrop = _react2.default.createElement('div', {\n      ref: backdropRef,\n      style: this.props.backdropStyle,\n      className: this.props.backdropClassName,\n      onClick: this.handleBackdropClick\n    });\n\n    if (Transition) {\n      backdrop = _react2.default.createElement(\n        Transition,\n        { transitionAppear: true,\n          'in': this.props.show,\n          timeout: backdropTransitionTimeout\n        },\n        renderBackdrop({\n          ref: backdropRef,\n          style: backdropStyle,\n          className: backdropClassName,\n          onClick: this.handleBackdropClick\n        })\n      );\n    }\n\n    return backdrop;\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.show) {\n      this.setState({ exited: false });\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      this.setState({ exited: true });\n    }\n  },\n  componentWillUpdate: function componentWillUpdate(nextProps) {\n    if (!this.props.show && nextProps.show) {\n      this.checkForFocus();\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.props.show) {\n      this.onShow();\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var transition = this.props.transition;\n\n\n    if (prevProps.show && !this.props.show && !transition) {\n      // Otherwise handleHidden will call this.\n      this.onHide();\n    } else if (!prevProps.show && this.props.show) {\n      this.onShow();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    var _props3 = this.props,\n        show = _props3.show,\n        transition = _props3.transition;\n\n\n    if (show || transition && !this.state.exited) {\n      this.onHide();\n    }\n  },\n  onShow: function onShow() {\n    var doc = (0, _ownerDocument2.default)(this);\n    var container = (0, _getContainer2.default)(this.props.container, doc.body);\n\n    this.props.manager.add(this, container, this.props.containerClassName);\n\n    this._onDocumentKeyupListener = (0, _addEventListener2.default)(doc, 'keyup', this.handleDocumentKeyUp);\n\n    this._onFocusinListener = (0, _addFocusListener2.default)(this.enforceFocus);\n\n    this.focus();\n\n    if (this.props.onShow) {\n      this.props.onShow();\n    }\n  },\n  onHide: function onHide() {\n    this.props.manager.remove(this);\n\n    this._onDocumentKeyupListener.remove();\n\n    this._onFocusinListener.remove();\n\n    if (this.props.restoreFocus) {\n      this.restoreLastFocus();\n    }\n  },\n  setMountNode: function setMountNode(ref) {\n    this.mountNode = ref ? ref.getMountNode() : ref;\n  },\n  handleHidden: function handleHidden() {\n    this.setState({ exited: true });\n    this.onHide();\n\n    if (this.props.onExited) {\n      var _props4;\n\n      (_props4 = this.props).onExited.apply(_props4, arguments);\n    }\n  },\n  handleBackdropClick: function handleBackdropClick(e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    if (this.props.onBackdropClick) {\n      this.props.onBackdropClick(e);\n    }\n\n    if (this.props.backdrop === true) {\n      this.props.onHide();\n    }\n  },\n  handleDocumentKeyUp: function handleDocumentKeyUp(e) {\n    if (this.props.keyboard && e.keyCode === 27 && this.isTopModal()) {\n      if (this.props.onEscapeKeyUp) {\n        this.props.onEscapeKeyUp(e);\n      }\n      this.props.onHide();\n    }\n  },\n  checkForFocus: function checkForFocus() {\n    if (_inDOM2.default) {\n      this.lastFocus = (0, _activeElement2.default)();\n    }\n  },\n  focus: function focus() {\n    var autoFocus = this.props.autoFocus;\n    var modalContent = this.getDialogElement();\n    var current = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n    var focusInModal = current && (0, _contains2.default)(modalContent, current);\n\n    if (modalContent && autoFocus && !focusInModal) {\n      this.lastFocus = current;\n\n      if (!modalContent.hasAttribute('tabIndex')) {\n        modalContent.setAttribute('tabIndex', -1);\n        (0, _warning2.default)(false, 'The modal content node does not accept focus. ' + 'For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\".');\n      }\n\n      modalContent.focus();\n    }\n  },\n  restoreLastFocus: function restoreLastFocus() {\n    // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n    if (this.lastFocus && this.lastFocus.focus) {\n      this.lastFocus.focus();\n      this.lastFocus = null;\n    }\n  },\n  enforceFocus: function enforceFocus() {\n    var enforceFocus = this.props.enforceFocus;\n\n\n    if (!enforceFocus || !this.isMounted() || !this.isTopModal()) {\n      return;\n    }\n\n    var active = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n    var modal = this.getDialogElement();\n\n    if (modal && modal !== active && !(0, _contains2.default)(modal, active)) {\n      modal.focus();\n    }\n  },\n\n\n  //instead of a ref, which might conflict with one the parent applied.\n  getDialogElement: function getDialogElement() {\n    var node = this.refs.modal;\n    return node && node.lastChild;\n  },\n  isTopModal: function isTopModal() {\n    return this.props.manager.isTopModal(this);\n  }\n});\n\nModal.Manager = _ModalManager2.default;\n\nexports.default = Modal;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}